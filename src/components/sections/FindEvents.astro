---
import Button from "../elements/Button.astro";
import rightPattern from "../../images/pattern-right.svg";
import leftPattern from "../../images/pattern-left.svg";
import bottomPattern from "../../images/pattern-bottom.svg";
---

<section class="py-20">
  <div class="container mx-auto max-w-screen-xl p-5 relative">
    <img src={leftPattern.src} class="absolute left-[15%] top-[50%] hoverable" />
    <img src={bottomPattern.src} class="absolute left-1/3 top-3/4 hoverable" />
    <img src={rightPattern.src} class="absolute right-1/4 top-1/3 hoverable" />
    <div class="flex justify-center">
      <div class="sm:w-[565px] w-full text-center">
        <p class="text-gray-500 text-2xl mb-10">Features</p>
        <h2 class="text-5xl my-10 font-heading leading-[3.5rem]">
          <span class="text-green-gradient">Find</span> Tech Events that matters
        </h2>
        <p class="text-lg">
          Discover, connect, and grow with tech events <span class="text-emerald-500">tailored</span
          > to your interests and goals
        </p>
        <div class="my-10">
          <Button label="Explore Events" size="lg" href="/events" style="secondary" />
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  const hoverableDivs = document.querySelectorAll(".hoverable")!;

  const hoverEffect = (e: MouseEvent, div: Element) => {
    const rect = div.getBoundingClientRect();
    const offsetX = (rect.left + rect.right) / 2 - e.clientX;
    const offsetY = (rect.top + rect.bottom) / 2 - e.clientY;

    gsap.to(div, {
      x: offsetX,
      y: offsetY,
      duration: 1,
    });
  };
  hoverableDivs.forEach((div) => {
    div.addEventListener("mousemove", (e) => hoverEffect(e as MouseEvent, div));
  });
</script>
